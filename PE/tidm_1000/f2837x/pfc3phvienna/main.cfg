/* need to use the Home module to generate the init code */
var HOME = xdc.useModule('devkits.Home');
var Kit = xdc.useModule('devkits.TIDM_1000.Kit');
HOME.configApiVersion = "1.00.00";

Program.stack = 128;
Program.argSize = 0;
Program.heap = 0;

Kit.solution = "TIDM1000";
Kit.device = "F2837x";
Kit.type = "pfc3phvienna";

Kit.CpuClkFreq = 200;
Kit.PWMSysClkFreq = 100;
Kit.eCAPSysClkFreq = 200;

/* PWM pin and ADC Selection related variables */
Kit.pwmIndex = 0;
Kit.pwmNo = 1;
Kit.adcTriggerSource = 5;

Kit.adcPinVIN1Index = 2;
Kit.adcPinVIN2Index = 0;
Kit.adcPinVIN3Index = 2;

Kit.adcPinIL1Index = 0;
Kit.adcPinIL2Index = 1;
Kit.adcPinIL3Index = 2;

Kit.adcPinVOUTPMIndex = 0;
Kit.adcPinVOUTMNIndex = 2;

/* Project Options*/
Kit.INCR_BUILD_Index = 1;
Kit.INCR_BUILD = 2;

Kit.SensingOption_Index = 0;
Kit.SensingOption = 1;

Kit.DC_AC_Index = 0;


/* Control Loop Design */
Kit.Tuning = 1;
Kit.Tuning_Index = 1;
Kit.COMP_NUM_Index = 1;
Kit.COMP_NUM = 1;
Kit.Style_Index = 4;
Kit.Style = 9;
Kit.Fsw_Fctrl_Ratio_Index = 0;
Kit.Fsw_Fctrl_Ratio = 1;
Kit.Voltage_Loop_Ratio_Index = 0;
Kit.Voltage_Loop_Ratio = 1;

/* Power Stage Related Values*/

Kit.Fsw = 50;
Kit.Fctrl = 50;

Kit.Vin = 208.0;
Kit.Vout = 620.0;
Kit.Iout = 0.79;
Kit.Vin_SenseMax = 454.0;
Kit.Vout_SenseMax = 717.79;
Kit.Vin_SenseMax_ADC = 451.65;
Kit.Vout_SenseMax_ADC = 450.15;
Kit.Vin_SenseMax_SDFM = 620.152;
Kit.Vout_SenseMax_SDFM = 620.152;
Kit.I_TripLevel = 11.0;

Kit.Li = 3.0;
Kit.Ri = 0.2;
Kit.Cf = 180.0;
Kit.Rcf = 0.73;

Kit.Pout = 768.0;
Kit.P_Rated = 2400.0;

Kit.I_SenseMax = 12.0;

/* ADC Sensing Parameters */
Kit.ADCSense_Fltr_Cuttoff = 23.417;
Kit.Cfltr = 0.1;
Kit.Rfltr = 68.0;
Kit.Vref = 1.65;

/* COMP */
Kit.COMP[0].A1 = 0.0;
Kit.COMP[0].A2 = 0.0;
Kit.COMP[0].A3 = 0.0;
Kit.COMP[0].B0 = 2.0;
Kit.COMP[0].B1 = 0.0;
Kit.COMP[0].B2 = 0.0;
Kit.COMP[0].B3 = 0.0;

Kit.COMP[1].A1 = 1.0;
Kit.COMP[1].A2 = 0.0;
Kit.COMP[1].A3 = 0.0;
Kit.COMP[1].B0 = 0.40004;
Kit.COMP[1].B1 = -0.39996;
Kit.COMP[1].B2 = 0.0;
Kit.COMP[1].B3 = 0.0;

Kit.COMP[2].A1 = 0.0;
Kit.COMP[2].A2 = 0.0;
Kit.COMP[2].A3 = 0.0;
Kit.COMP[2].B0 = 1.0;
Kit.COMP[2].B1 = 0.0;
Kit.COMP[2].B2 = 0.0;
Kit.COMP[2].B3 = 0.0;



Kit.adcPinIL2 = 4;
Kit.adcPinIL3 = 14;
Kit.adcPinIL1 = 2;
Kit.adcPinVIN1 = 2;
Kit.adcPinVIN1Module = 2;
Kit.adcPinVIN2 = 0;
Kit.adcPinVIN2Module = 4;
Kit.adcPinVIN3 = 2;
Kit.adcPinVIN3Module = 4;
Kit.adcPinVOUTPM = 2;
Kit.adcPinVOUTPMModule = 3;
Kit.adcPinVOUTMN = 4;
Kit.adcPinVOUTMNModule = 3;
Kit.adcPinIL1Module = 1;
Kit.adcPinIL2Module = 1;
Kit.adcPinIL3Module = 1;
Kit.adcPinIL2Comparator = 2;
Kit.adcPinIL3Comparator = 4;
Kit.I_TripLevel_ADC = 11.0;
Kit.COMP[0].Kp = 2.0;
Kit.COMP[1].Kp = 0.4;
Kit.COMP[2].Kp = 1.0;
